(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1057:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>d});var a=s(5155),t=s(3317),n=s(285),r=s(2115),c=s(6957),i=s(1170);function d(){let[e,l]=(0,r.useState)([]),[s,d]=(0,r.useState)(!0),[u,o]=(0,r.useState)(null),[x,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(""),[v,j]=(0,r.useState)("price"),[f,g]=(0,r.useState)("asc"),[N,b]=(0,r.useState)(null),[S,C]=(0,r.useState)(null),[k,y]=(0,r.useState)(1),[P]=(0,r.useState)(10),[w,_]=(0,r.useState)(0);(0,r.useEffect)(()=>{!async function(){try{d(!0);let e=await (0,c.j)({category:x,search:p,sortBy:v,order:f,minPrice:N,maxPrice:S,page:k,limit:P});l(e.products),_(e.totalPages)}catch(l){var e,s;o((null===(s=l.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to fetch products")}finally{d(!1)}}()},[x,p,v,f,N,S,k,P]);let A=e=>{m(e),y(1)},E=(e,l)=>{let s=e.target.value?Number(e.target.value):null;"min"===l&&b(s),"max"===l&&C(s),y(1)};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)("main",{className:"flex-1",children:(0,a.jsxs)("section",{className:"container mx-auto px-4 py-12",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"All Products"}),(0,a.jsx)("p",{className:"max-w-[700px] text-muted-foreground md:text-xl",children:"Browse our complete collection of premium clothing and accessories."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,a.jsx)(n.$,{variant:null===x?"default":"outline",className:"rounded-full",onClick:()=>A(null),children:"All"}),["T-Shirts","Jeans","Shirts","Sweaters","Jackets","Pants"].map(e=>(0,a.jsx)(n.$,{variant:x===e?"default":"outline",className:"rounded-full",onClick:()=>A(e),children:e},e))]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:p,onChange:e=>{h(e.target.value),y(1)},className:"border p-2 rounded"}),(0,a.jsx)("input",{type:"number",placeholder:"Min Price",value:N||"",onChange:e=>E(e,"min"),className:"border p-2 rounded"}),(0,a.jsx)("input",{type:"number",placeholder:"Max Price",value:S||"",onChange:e=>E(e,"max"),className:"border p-2 rounded"}),(0,a.jsxs)("select",{value:v,onChange:e=>{j(e.target.value),y(1)},className:"border p-2 rounded",children:[(0,a.jsx)("option",{value:"price",children:"Price"}),(0,a.jsx)("option",{value:"title",children:"Title"})]}),(0,a.jsxs)("select",{value:f,onChange:e=>{g(e.target.value),y(1)},className:"border p-2 rounded",children:[(0,a.jsx)("option",{value:"asc",children:"Ascending"}),(0,a.jsx)("option",{value:"desc",children:"Descending"})]})]}),s?(0,a.jsx)("p",{className:"text-center",children:"Loading..."}):u?(0,a.jsx)("p",{className:"text-center text-red-500",children:u}):(0,a.jsx)(i.A,{products:e}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-8",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>{k>1&&y(e=>e-1)},disabled:1===k,children:"Previous"}),(0,a.jsxs)("span",{children:["Page ",k," of ",w]}),(0,a.jsx)(n.$,{variant:"outline",onClick:()=>{k<w&&y(e=>e+1)},disabled:k===w,children:"Next"})]})]})}),(0,a.jsx)(t.A,{})]})}},6706:(e,l,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{var l=l=>e(e.s=l);e.O(0,[274,261,522,441,684,358],()=>l(6706)),_N_E=e.O()}]);